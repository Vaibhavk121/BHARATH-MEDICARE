<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register - Bharath Medicare</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&display=swap" rel="stylesheet"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet"/>
    <link rel="stylesheet" href="../assets/css/auth-pages.css">
</head>
<body>
    <div class="auth-container">
        <div class="auth-card">
            <div class="sidebar">
                <div class="brand-section">
                    <div class="logo-container">
                        <div class="logo">
                            <img src="../assets/images/logo.png" alt="Bharath Medicare Logo">
                        </div>
                        <h1 class="brand-name">Bharath Medicare</h1>
                    </div>
                </div>
                <div class="sidebar-content">
                    <h2 class="portal-title">Join Our Healthcare Community</h2>
                    <p class="portal-description">
                        Create your account and start managing your medical records securely with end-to-end encryption.
                    </p>
                    <div class="features">
                        <div class="feature">
                            <div class="feature-icon">
                                <i class="fas fa-lock"></i>
                            </div>
                            <span>Military-Grade Encryption</span>
                        </div>
                        <div class="feature">
                            <div class="feature-icon">
                                <i class="fas fa-cloud-upload-alt"></i>
                            </div>
                            <span>Secure Cloud Storage</span>
                        </div>
                        <div class="feature">
                            <div class="feature-icon">
                                <i class="fas fa-user-shield"></i>
                            </div>
                            <span>HIPAA Compliant Platform</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-section">
                <div class="form-header">
                    <h2 class="form-title">Create Your Account</h2>
                    <p class="form-subtitle">Join thousands of users managing their health securely</p>
                </div>

                <form id="registerForm" class="auth-form" onsubmit="handleRegister(event)">
                    <div class="form-group">
                        <label for="fullName">Full Name</label>
                        <div class="input-wrapper">
                            <i class="fas fa-user input-icon"></i>
                            <input type="text" id="fullName" name="fullName" required 
                                   placeholder="Enter your full name">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="email">Email Address</label>
                            <div class="input-wrapper">
                                <i class="fas fa-envelope input-icon"></i>
                                <input type="email" id="email" name="email" required 
                                       placeholder="your.email@example.com">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="phone">Phone Number (Optional)</label>
                            <div class="input-wrapper">
                                <i class="fas fa-phone input-icon"></i>
                                <input type="tel" id="phone" name="phone" 
                                       placeholder="+91 XXXXX XXXXX">
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="role">I am registering as a</label>
                        <div class="input-wrapper">
                            <select id="role" name="role" required onchange="toggleNMCField()">
                                <option value="">Select your role</option>
                                <option value="patient">Patient (Quick Registration)</option>
                                <option value="doctor">Doctor / Healthcare Provider</option>
                                <option value="admin">System Administrator</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group" id="diabeticField" style="display: none;">
                        <label for="isDiabetic">Are you diabetic?</label>
                        <div class="input-wrapper">
                            <select id="isDiabetic" name="isDiabetic">
                                <option value="false">No</option>
                                <option value="true">Yes, I am diabetic</option>
                            </select>
                        </div>
                        <div class="info-box" style="font-size: 0.85rem; color: var(--text-secondary); margin-top: 5px;">
                            <i class="fas fa-exclamation-triangle" style="color: var(--warning-color);"></i>
                            This information is vital for emergency medical treatment.
                        </div>
                    </div>
                    
                    <div class="form-group" id="nmcField" style="display: none;">
                        <label for="nmcUid">NMC Unique ID (UID)</label>
                        <div class="input-wrapper">
                            <i class="fas fa-id-card input-icon"></i>
                            <input type="text" id="nmcUid" name="nmcUid" 
                                   placeholder="Enter 7-digit NMC UID" maxlength="7"
                                   pattern="[0-9]{7}">
                        </div>
                        <div class="info-box">
                            <i class="fas fa-info-circle"></i>
                            <strong>Required for doctors:</strong> Enter your 7-digit National Medical Commission (NMC) Unique ID. 
                            Your registration will be verified by admin before account activation.
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="password">Password</label>
                            <div class="input-wrapper">
                                <i class="fas fa-lock input-icon"></i>
                                <input type="password" id="password" name="password" required 
                                       placeholder="Create a strong password">
                                <button type="button" class="password-toggle" onclick="togglePassword('password')">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="confirmPassword">Confirm Password</label>
                            <div class="input-wrapper">
                                <i class="fas fa-lock input-icon"></i>
                                <input type="password" id="confirmPassword" name="confirmPassword" required 
                                       placeholder="Re-enter your password">
                                <button type="button" class="password-toggle" onclick="togglePassword('confirmPassword')">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <div style="font-size: 0.85rem; color: var(--text-secondary); margin-top: -10px;">
                        <p style="margin-bottom: 5px;">Password must contain:</p>
                        <ul style="padding-left: 20px; line-height: 1.6;">
                            <li>At least 8 characters</li>
                            <li>One uppercase letter</li>
                            <li>One lowercase letter</li>
                            <li>One number</li>
                        </ul>
                    </div>

                    <button type="submit" class="submit-button">
                        <i class="fas fa-user-plus"></i> Create Account
                    </button>
                </form>

                <div class="form-footer">
                    <p>
                        Already have an account? 
                        <a href="login.html" class="link-button">Sign in here</a>
                    </p>
                    <p style="margin-top: 15px; font-size: 0.85rem;">
                        By signing up, you agree to our 
                        <a href="#" class="link-button">Terms of Service</a> and 
                        <a href="#" class="link-button">Privacy Policy</a>
                    </p>
                </div>
            </div>
        </div>
    </div>

    <div id="loading" style="display: none;">
        <div class="spinner"></div>
    </div>

    <script src="../js/config.js"></script>
    <script src="../js/api.js"></script>
    <script src="../js/ui.js"></script>
    <script src="../js/auth.js"></script>
</body>
</html>